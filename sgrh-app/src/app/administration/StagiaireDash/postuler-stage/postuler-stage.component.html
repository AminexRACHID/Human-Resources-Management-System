<app-adminassets></app-adminassets>
<div id="app">
  <div id="sidebar" class='active'>
    <div class="sidebar-wrapper active">
      <div class="sidebar-header">
        <img src="assets/img/umi_logo.svg" style="zoom:150%;" srcset="">
      </div>
      <div class="sidebar-menu">
        <ul class="menu">

          <li class='sidebar-title'>Stagiaire</li>

          <li class="sidebar-item  has-sub">
            <a href="#" class='sidebar-link'>
              <i data-feather="user" width="20"></i>
              <span>Menu Stagiaire</span>
            </a>

            <ul class="submenu ">

              <li>
                <a routerLinkActive="Active" [routerLinkActiveOptions]="{exact : true}" href="stagiaire/consulter-absences" routerLink="/stagiaire/consulter-absences">Absences</a>
              </li>

              <li>
                <a routerLinkActive="Active" [routerLinkActiveOptions]="{exact : true}" href="stagiaire/postuler-stage" routerLink='/stagiaire/postuler-stage'>Postuler Un Stage</a>
              </li>

              <li>
                <a routerLinkActive="Active" [routerLinkActiveOptions]="{exact : true}" href="stagiaire/demande-attestation" routerLink="/stagiaire/demande-attestation">Demande Attestation</a>
              </li>

            </ul>

          </li>



        </ul>
      </div>
      <button class="sidebar-toggler btn x"><i data-feather="x"></i></button>
    </div>
  </div>
  <div id="main">
    <app-adminheader>

    </app-adminheader>
    <!-- slider Area End-->
    <!-- Featured_job_start -->
    <div class="container">
      <div class="row m-5">
        <div class="col-lg-12">
          <div class="section-tittle text-center">
            <span>Stages récents</span>
            <h2>Les Offers De Stages</h2>
          </div>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-xl-8">
          <!-- Bootstrap form -->
          <form class="form-inline">
            <div class="input-group">
              <input type="text" class="form-control" id="intituleDeStage" style="height: 55px; font-size: 18px" placeholder="Intitulé De Stage" name="keyword" [(ngModel)]="keyword">
              <div class="input-group-append">
                <button type="button" class="btn btn-primary" style="height: 55px;" (click)="searchOffers()">
                  <i class="fas fa-search"></i>
                  <a  class="text-white">Trouver un stage</a>
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>


      <div class="row mt-4">
        <div class="col-md-6" *ngFor="let o of offers; let i = index">
          <div class="card mb-4 mx-auto p-0 bg-transparent">
            <div class="card mx-auto w-100 m-0 p-3">
              <div class="card-title">
                <p class="heading">{{o.title}}</p>
              </div>
              <p class="text-muted">{{o.description}}</p>
              <div class="row btnrow my-4">
                <div class="col-6 col-md-3"><button type="button" class="btn btn-outline-success btn-sm" style="background: #00ff002b; width: max-content;">Full Time</button></div>
                <div class="col-6 col-md-3"><button type="button" class="btn btn-outline-primary btn-sm" style="background: #007bff33; width: max-content;">{{o.duration}} mois</button></div>
              </div>
              <div class="row btnsubmit mt-4">
                <div class="col-md-6 col-6">
                  <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" (click)="saveId(o.id)" data-target="#postulerModal"><span>Postuler</span></button>
                </div>
                <div class="col-md-6 col-6">
                  <button type="button" class="btn btn-dark btn-lg" data-toggle="modal" (click)="oppenModal(o.id)" data-target="#interndetailmodal"><span>Details</span></button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--  <Card 2>-->
        <div class="col-md-6">
          <div class="card mb-4 mx-auto p-0 bg-transparent">
            <div class="card mx-auto w-100 m-0 p-3">
              <div class="card-title">
                <p class="heading">Lead Product Design</p>
              </div>
              <p class="text-muted">You will be responsible for the visual design<br>for multi device.Understand basic design,<br>User journey, Ideation and Wireframing, etc...</p>
              <div class="row btnrow my-4">
                <div class="col-6 col-md-3"><button type="button" class="btn btn-outline-success btn-sm" style="background: #00ff002b; width: max-content;">Full Time</button></div>
                <div class="col-6 col-md-3"><button type="button" class="btn btn-outline-primary btn-sm" style="background: #007bff33; width: max-content;">Min. 1 year</button></div>
              </div>
              <div class="row btnsubmit mt-4">
                <div class="col-md-6 col-6">
                  <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#postulerModal"><span>Postuler</span></button>
                </div>
                <div class="col-md-6 col-6">
                  <button type="button" class="btn btn-dark btn-lg" data-toggle="modal" data-target="#interndetailmodal"><span>Details</span></button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--  <Fin Card 2>-->
      </div>
    </div>

  </div>
</div>
<div class="modal fade" *ngIf="offer != null" id="interndetailmodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLabel">Opportunité passionnante pour {{offer.title}}</h4>
        <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">Close</button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <!-- Job Post Company Start -->
        <div class="job-post-company pt-20 pb-20">
          <div class="container">
            <div class="row justify-content-between">
              <!-- Left Content -->
              <div class="col-xl-7 col-lg-8">
                <!-- Job Single -->
                <div class="single-job-items mb-50">
                  <div class="job-items">
                    <div class="company-img company-img-details">
                      <a href="#"><img src="../../../assets/interns/img/icon/job-list1.png" alt=""></a>
                    </div>
                    <div class="job-tittle mt-1" >
                      <a href="#">
                        <h4>{{offer.title}}</h4>
                      </a>
                      <ul>
                        <li>UMI FSM</li>
                        <li><i class="fas fa-map-marker-alt"></i>  Meknès, Maroc</li>
                        <li *ngIf="offer.remuneration !== true">Non Rémunéré</li>
                        <li *ngIf="offer.remuneration !== false">Rémunéré</li>
                      </ul>
                    </div>
                  </div>
                </div>
                <!-- Job Single End -->

                <div class="job-post-details">
                  <div class="post-details1 mb-50">
                    <!-- Small Section Tittle -->
                    <div class="small-section-tittle">
                      <h4>Description de Stage </h4>
                    </div>
                    <p> {{offer.description}}</p>
                  </div>
                </div>
                <div class="post-details4  mb-50">
                  <!-- Small Section Tittle -->
                  <div class="small-section-tittle">
                    <h4>Company Information</h4>
                  </div>
                  <span>FSM</span>
                  <p>
                    Créée en 1982, la Faculté des Sciences de Meknès (FSM) en tant que premier établissement universitaire à accès ouvert dans la région Meknès-Tafilalt, peut être fière de ses 37 ans d’expérience cumulée qui font d’elle la locomotive du système éducatif universitaire à l’échelle de la région.                              </p>

                </div>
              </div>
              <!-- Right Content -->
              <div class="col-xl-5 col-lg-5">
                <div class="post-details3  mb-50">
                  <!-- Small Section Tittle -->
                  <div class="small-section-tittle">
                    <h4>Details</h4>
                  </div>
                  <ul>
                    <li>Date de début:<span>{{offer.startDate}}</span></li>
                    <li>Lieu: <span>Meknès, Maroc</span></li>
                    <li>Type: <span>{{offer.type}}</span></li>
                    <li>Niveau: <span>{{offer.diploma}}</span></li>
                    <li>Durée:  <span>{{offer.duration}} mois</span></li>
                    <li>Rémunération:
                      <span *ngIf="offer.remuneration !== true">Non</span>
                      <span *ngIf="offer.remuneration !== false">Oui</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Job Post Company End -->
      </div>
    </div>
  </div>
</div>


<div class="modal fade" *ngIf="userId != null" id="postulerModal" tabindex="-1" aria-labelledby="postulerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="postulerModalLabel">Postuler</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="postulerForm" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="prenom">Prénom</label>
                <input type="text" placeholder="{{stagiaireInfo.firstName}}" class="form-control" id="prenom" name="firstName" [(ngModel)]="stagiaire.firstName" [ngModelOptions]="{standalone: true}">
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="nom">Nom</label>
                <input type="text" class="form-control" placeholder="{{stagiaireInfo.lastName}}" id="nom" name="lastName" [(ngModel)]="stagiaire.lastName" [ngModelOptions]="{standalone: true}">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" placeholder="{{stagiaireInfo.email}}" name="email" [(ngModel)]="stagiaire.email" [ngModelOptions]="{standalone: true}" disabled>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="niveau_etudes" >Niveau d'études</label>
                <select class="form-control" id="niveau_etudes" name="levelStudies" [(ngModel)]="stagiaire.levelStudies" [ngModelOptions]="{standalone: true}" required>
                  <option value="Bac" [selected]="stagiaireInfo.levelStudies === 'Bac'">Bac</option>
                  <option value="Bac+2" [selected]="stagiaireInfo.levelStudies === 'Bac+2'">Bac+2</option>
                  <option value="Bac+3" [selected]="stagiaireInfo.levelStudies === 'Bac+3'">Bac+3</option>
                  <option value="Bac+5" [selected]="stagiaireInfo.levelStudies === 'Bac+5'">Bac+5</option>
                  <option value="Plus" [selected]="stagiaireInfo.levelStudies === 'Plus'">Plus</option>
                </select>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="ville">Ville</label>
                <input type="text" class="form-control" id="ville" name="city" [(ngModel)]="stagiaire.city" [ngModelOptions]="{standalone: true}">
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="telephone">Téléphone</label>
                <input type="tel" class="form-control" id="telephone" name="phone" [(ngModel)]="stagiaire.phone" [ngModelOptions]="{standalone: true}">
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="linkedin"> URL LinkedIn
                </label>
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text bg-white" style="height: 38px"><i class="text-black fab fa-linkedin-in"></i></span>
                  </div>
                  <input type="text" class="form-control" id="linkedin" name="linkedin" [(ngModel)]="stagiaire.linkedin" [ngModelOptions]="{standalone: true}">
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="civilite">Civilité</label>
                <select class="form-control" id="civilite" name="gender" [(ngModel)]="stagiaire.gender" [ngModelOptions]="{standalone: true}">
                  <option value="Mr">Mr</option>
                  <option value="Mme">Mme</option>
                </select>
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col-md-12">
              <label for="filecv">Cv</label>
              <div class="form-file" id="filecv">
                <input type="file" class="form-file-input" id="customFile" (change)="updateFileName($event)" [required]="true">
                <label class="form-file-label" for="customFile">
                  <span class="form-file-text">Sélectionner Votre Cv...</span>
                  <span class="form-file-button btn-primary " style="cursor: pointer;"><i><svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#fafafa" d="M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"/></svg></i></span>
                </label>
              </div>
            </div>
          </div>
          <button type="submit" class="btn btn-primary mt-3">Envoyer</button>
        </form>
      </div>
    </div>
  </div>
</div>
<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">-->

<!-- Add this link in the head section of your HTML document -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
