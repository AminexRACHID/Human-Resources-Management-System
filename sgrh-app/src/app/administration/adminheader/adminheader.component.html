<nav class="navbar navbar-header navbar-expand navbar-light">
  <a class="sidebar-toggler"><span class="navbar-toggler-icon"></span></a>
  <button id="mainDropdown" class="btn navbar-toggler" type="button" (click)="toggleDropdown()" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav d-flex align-items-center navbar-light ml-auto">
      <!-- Notifications Dropdown -->
      <li class="dropdown nav-icon" (click)="toggleNotificationsDropdown()">
        <a class="nav-link dropdown-toggle nav-link-lg nav-link-user" role="button">
          <div class="d-lg-inline-block">
            <i data-feather="mail"></i>
          </div>
        </a>
        <div id="notificationsDropdown" class="dropdown-menu dropdown-menu-right dropdown-menu-large" style="display: none;">
          <h6 class="py-2 px-4">Notifications</h6>
          <ul class="list-group rounded-none">
            <li class="list-group-item border-0 align-items-start">
              <div class="avatar bg-success mr-3">
                <span class="avatar-content"><i data-feather="message-square"></i></span>
              </div>
              <div>
                <h6 class="text-bold">Ali Bekri</h6>
                <p class="text-xs">Makayn La Pause La Pausa</p>
              </div>
            </li>
          </ul>
        </div>
      </li>

      <!-- User Dropdown -->
      <li class="dropdown" *ngIf="authService.isAuthenticated==true" (click)="toggleUserDropdown()">
        <a class="nav-link dropdown-toggle nav-link-lg nav-link-user" role="button">
          <div class="avatar mr-1">
            <img src="../../assets/admin-assets/assets/images/avatar/avatar-s-1.png" alt="" srcset="">
          </div>
          <div class="d-none d-md-block d-lg-inline-block">Hi, {{this.authService.username}}</div>
        </a>
        <div id="userDropdown" class="dropdown-menu dropdown-menu-right" style="display: none;">
          <a class="dropdown-item" href="#"><i data-feather="mail"></i> Messages</a>
          <a class="dropdown-item" href="#" data-toggle="modal" data-target="#ModalChangePass"><i data-feather="lock"></i>
            Modifier Password</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" (click)="handleLogout()" href="#"><i data-feather="log-out"></i> Logout</a>
        </div>
      </li>
    </ul>
  </div>
  <!-- Modal -->
  <div id="ModalChangePass" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Change Password</h4>
        </div>
        <div class="mainDiv">
          <div class="cardStyle">
            <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">

              <div class="d-flex mt-0 mb-2 ml-10">
                <img id="signupLogo" src="assets/img/umi_logo.svg" style="zoom:8%;" alt="logo">
              </div>
              <!-- Inside the modal content -->
              <div class="inputDiv">
                <label class="inputLabel" for="oldpassword">Ancien Mot De Passe</label>
                <div class="input-group">
                  <input type="password" id="oldpassword" name="oldpassword" formControlName="oldpassword" required>
                  <div class="input-group-append">
                  <span class="input-group-text" style="height: 40px;">
                    <i data-feather="eye" id="toggleOldPasswordIcon"></i>
                  </span>
                  </div>
                </div>
              </div>


              <div class="inputDiv">
                <label class="inputLabel" for="newpassword">Nouveau Mot de Passe</label>
                <div class="input-group">
                  <input type="password" id="newpassword" name="newpassword" formControlName="newpassword" required>
                  <div class="input-group-append">
                    <span class="input-group-text" style="height: 40px;">
                      <i data-feather="eye" id="toggleNewPasswordIcon"></i>
                    </span>
                  </div>
                </div>
              </div>

              <div class="inputDiv">
                <label class="inputLabel" for="passwordconfirmation">Confirmation Du Mot de Passe</label>
                <div class="input-group">
                  <input type="password" id="passwordconfirmation" name="passwordconfirmation" formControlName="passwordconfirmation">
                  <div class="input-group-append">
                    <span class="input-group-text" style="height: 40px;" >
                      <i data-feather="eye" id="togglePasswordConfirmIcon"></i>
                    </span>
                  </div>
                </div>
              </div>


              <div class="buttonWrapper">
                <button type="submit" id="submitButton" class="submitButton pure-button pure-button-primary"
                        [disabled]="!changePasswordForm.valid || !verifyPasswordsMatch()">
                  <span>Changer Le Mot De Passe</span>
                </button>
              </div>

            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>
</nav>
<!--          <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">-->
<!--            <div class="d-flex mt-0 mb-2">-->
<!--              <img src="assets/img/umi_logo.svg" style="zoom:8%;" alt="logo">-->
<!--            </div>-->
<!--            <label class="form-label mr-1" for="password">Ancien Mot De Passe</label>-->
<!--            <div class="input-group form-outline mb-2">-->
<!--              <span class="input-group-text"><i class="lock"></i></span>-->
<!--              <input type="password" id="oldpassword" class="form-control form-control-md" placeholder="password1@" formControlName="oldpassword" />-->
<!--              <span class="input-group-text"><i class="eye-off" id="toggleoldPasswordIcon"></i></span>-->
<!--            </div>-->
<!--            <label class="form-label mr-1" for="password">Nouveau Mot de Passe</label>-->
<!--            <div class="input-group form-outline mb-2">-->
<!--              <span class="input-group-text"><i class="lock"></i></span>-->
<!--              <input type="password" id="password" class="form-control form-control-md" placeholder="password1@" formControlName="password" />-->
<!--              <span class="input-group-text"><i class="eye-off" id="togglePasswordIcon"></i></span>-->
<!--            </div>-->

<!--            <label class="form-label mr-1" for="passwordconfirmation">Confirmation Du Mot de Passe</label>-->
<!--            <div class="input-group form-outline mb-2">-->
<!--              <span class="input-group-text"><i class="lock"></i></span>-->
<!--              <input type="password" id="passwordconfirmation" class="form-control form-control-md" placeholder="password1@" formControlName="passwordconfirmation" />-->
<!--              <span class="input-group-text"><i class="eye-off" id="togglePasswordConfirmIcon"></i></span>-->
<!--            </div>-->

<!--            <div class="pt-1 mb-2 mt-3">-->
<!--              <div class="text-center text-md-start">-->
<!--                <a>-->
<!--                  <button type="submit" class="btn-group-md btn-primary scrollto d-inline-flex align-items-center justify-content-center align-self-center"-->
<!--                          [disabled]="!changePasswordForm.valid || !verifyPasswordsMatch()">-->
<!--                    <span>S'inscrire</span>-->
<!--                    <i class="bi bi-arrow-right"></i>-->
<!--                  </button>-->
<!--                </a>-->
<!--              </div>-->
<!--            </div>-->
<!--          </form>-->
